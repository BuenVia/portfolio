<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="design.css"/>
    <title>Security Game</title>
</head>
<body>

    <div class="header">
        <a href="javascript:void(0)">Home</a> /
        <a href="javascript:void(0)">The Diamond</a> /
        <a href="javascript:void(0)">The Discovery</a> /
        <a href="javascript:void(0)">The Exhibition</a> /
        <a href="javascript:void(0)">The House of Volkov</a>
    </div>
    
    <div class="banner">
        Capture The Thief!
    </div>

    <div class="content">
        <div class="column20">
            <p>Rules:</p>
            <p>There are 6 images which will appear on the screen.<br/>
                You must identify the thief by clicking on them when they appear.<br/>
                Be warned, there is only 1 thief. The rest are staff.<br/>
                If you click on the wrong person, you will lose points.
            </p>
        </div>

        <div class="column80">
            <input type="button" value="Play" onclick="startGame();"/><br/><br/>
            <div id="board">
                <div class="character">1</div>
                <div class="character">2</div>
                <div class="character">3</div>
                <div class="character">4</div>
                <div class="character">5</div>
                <div class="character">6</div>

                <script>
                    function startGame() {
                        gameLoop();
                    }
                    let loops = 0;
                    let peopleVisible = false;
                    let gameScore = 0;
                    function gameLoop() {
                        peopleVisible = !peopleVisible;
                        createCharacters();
                        loops++;
                        if(loops < 12) {
                            setTimeout(gameLoop, peopleVisible ? 1000 : 3000);
                        }
                        else {
                            alert("You scored " + gameScore);
                        }
                    }
                    function createCharacters(){
                        let board = document.getElementById("board");
                        let classToSet = peopleVisible ? "character visible" : "charcter hidden";
                        for(let index = 0; index < 6; index++) {
                            board.children[index].className = classToSet;
                            board.children[index].innerHTML = "";
                            board.children[index].onclick - function() {
                                gameScore += -2;
                            }
                        }
                        let randomNumber = Math.floor(Math.random() * 6) + 1;
                        board.children[randomNumber-1].innerHTML = "";
                        board.children[randomNumber-1].onclick = function() {
                            gameScore++;
                        }
                        board.children[randomNumber-1].className = classToSet + " thief";
                    }
                    function flashCharacters() {
                        let board = document.getElementById("board");
                        let classToSet =peopleVisible ? "character visible" : "character hidden";
                        for(let index = 0; index < 6; index++) {
                            board.children[index].className = classToSet;
                        }
                    }
                </script>
            </div>
        </div>    
    </div>

    <div class="footer">
        Contact Professor Bairstone: profbairstone@intrepidexplorer.com
    </div>

</body>
</html>